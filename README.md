# Сервис уведомлений

Сервис для отправки уведомлений пользователям через несколько каналов с механизмом резервирования.

## Возможности

- Отправка уведомлений по электронной почте, SMS и Telegram
- Механизм резервирования: если один канал не работает, пробуем другой
- RESTful API, построенный на FastAPI
- Конечная точка проверки работоспособности

## Требования

- Python 3.8+
- FastAPI
- Uvicorn

## Установка

1. Создайте виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate  # В Windows: venv\Scripts\activate
   ```

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

## Запуск сервиса

```bash
uvicorn main:app --reload --port 8000
```

Сервис будет доступен по адресу `http://localhost:8080`

Документация API доступна по адресам:
- Swagger UI: `http://localhost:8080/docs`
- ReDoc: `http://localhost:8080/redoc`

## Конечные точки API

### Отправка уведомления

```
POST /notify/
```

Пример тела запроса:
```json
{
  "user_id": "12345",
  "message": "Привет, это тестовое уведомление!",
  "channels": ["email", "sms", "telegram"],
  "email": "user@example.com",
  "phone": "+1234567890",
  "telegram_id": "@username"
}
```

Сервис попытается отправить уведомление в следующем порядке приоритета:
1. Электронная почта
2. SMS
3. Telegram

Если один канал не работает, он автоматически попробует следующий.

### Проверка работоспособности

```
GET /health
```

Возвращает статус работы сервиса.

## Детали реализации

Сервис реализует механизм резервирования, при котором если отправка уведомления через один канал не удалась, он автоматически попробует следующий канал в порядке приоритета. Это обеспечивает надежную доставку уведомлений пользователям.
